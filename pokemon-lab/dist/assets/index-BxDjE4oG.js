(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();var v=function(e,t,o,i){function r(n){return n instanceof o?n:new o(function(s){s(n)})}return new(o||(o=Promise))(function(n,s){function l(c){try{a(i.next(c))}catch(d){s(d)}}function p(c){try{a(i.throw(c))}catch(d){s(d)}}function a(c){c.done?n(c.value):r(c.value).then(l,p)}a((i=i.apply(e,t||[])).next())})};const w="https://pokeapi.co/api/v2/";function L(e,t){return v(this,void 0,void 0,function*(){const o=`${w}${e}/${t.toLowerCase()}`,i=yield fetch(o);if(!i.ok)throw new Error(`No se pudo obtener ${e} con identificador "${t}"`);return yield i.json()})}function E(e){const t=document.getElementById("pokemon-info");t&&(t.innerHTML=`
    <h2>${e.name} (#${e.id})</h2>
    <img src="${e.sprites.front_default}" alt="${e.name}">
    <p><strong>Tipos:</strong> ${e.types.map(o=>o.type.name).join(", ")}</p>
    <p><strong>Habilidades:</strong> ${e.abilities.map(o=>o.ability.name).join(", ")}</p>
    <p><strong>Peso:</strong> ${e.weight} kg</p>
  `)}function $(e){const t=document.getElementById("pokemon-info");t&&(t.innerHTML=`<p class="error">${e}</p>`)}function m(){const e=document.getElementById("search-history");if(!e)return;const t=JSON.parse(localStorage.getItem("searchHistory")||"[]");e.innerHTML=t.map(o=>`<button class="history-item">${o}</button>`).join(""),g()}function g(){document.querySelectorAll(".history-item").forEach(e=>{e.removeEventListener("click",h),e.addEventListener("click",h)})}function h(e){const t=e.target;f(t.textContent||"")}var I=function(e,t,o,i){function r(n){return n instanceof o?n:new o(function(s){s(n)})}return new(o||(o=Promise))(function(n,s){function l(c){try{a(i.next(c))}catch(d){s(d)}}function p(c){try{a(i.throw(c))}catch(d){s(d)}}function a(c){c.done?n(c.value):r(c.value).then(l,p)}a((i=i.apply(e,t||[])).next())})},y;let u=1;function f(e){return I(this,void 0,void 0,function*(){try{const t=yield L("pokemon",e);u=t.id,E(t),S(t.name.toLowerCase()),m()}catch{$("No se encontró el Pokémon. Inténtalo de nuevo.")}})}function S(e){let t=JSON.parse(localStorage.getItem("searchHistory")||"[]");t.includes(e)||(t.push(e),localStorage.setItem("searchHistory",JSON.stringify(t)))}(y=document.getElementById("searchBtn"))===null||y===void 0||y.addEventListener("click",()=>{const e=document.getElementById("searchInput").value.trim();e&&f(e)});document.addEventListener("keydown",e=>{e.key==="ArrowRight"?f((u+1).toString()):e.key==="ArrowLeft"&&u>1&&f((u-1).toString())});document.addEventListener("DOMContentLoaded",()=>{m(),g()});
